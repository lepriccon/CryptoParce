<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Binance Prices</title>
    <style>
        * { margin: 0; padding: 0; box-sizing: border-box; }
        body {
            font-family: Arial, sans-serif;
            display: flex;
            flex-direction: column;
            align-items: center;
            height: 100vh;
            overflow: hidden;
            background: linear-gradient(to bottom, #2c2c2c, #1a1a1a);
            color: white;
        }
        #search {
            width: 60%;
            padding: 10px;
            font-size: 16px;
            margin-top: 10px;
            border: 1px solid #ccc;
            border-radius: 5px;
            background: white;
            z-index: 10;
            color: black;
        }
        #container {
            width: 60%;
            overflow-y: auto;
            flex-grow: 1;
            margin-top: 10px;
            padding-bottom: 10px;
        }
        .item {
            display: flex;
            align-items: center;
            justify-content: space-between;
            padding: 12px;
            background: rgba(255, 255, 255, 0.1);
            border-bottom: 1px solid #555;
            font-size: 18px;
        }
        .item:nth-child(odd) { background: rgba(255, 255, 255, 0.2); }
        .crypto-logo {
            width: 24px;
            height: 24px;
            margin-right: 10px;
            border-radius: 50%;
        }
        .symbol-container {
            display: flex;
            align-items: center;
        }
    </style>
</head>
<body>
    <input type="text" id="search" placeholder="Search pairs...">
    <div id="container"></div>

    <script>
        document.addEventListener("DOMContentLoaded", function () {
            let searchInput = document.getElementById("search");
            let container = document.getElementById("container");
            let logos = {};

            async function fetchLogos() {
                try {
                    let response = await fetch("https://api.coingecko.com/api/v3/coins/markets?vs_currency=usd");
                    let data = await response.json();
                    logos = data.reduce((acc, coin) => {
                        acc[coin.symbol.toUpperCase()] = coin.image;
                        return acc;
                    }, {});
                } catch (error) {
                    console.error("Error fetching logos:", error);
                }
            }

            async function fetchPrices() {
                try {
                    let response = await fetch("https://api.binance.com/api/v3/ticker/price");
                    let data = await response.json();
                    let prices = {};

                    data.forEach(item => {
                        if (item.symbol.endsWith("USDT")) {
                            let base = item.symbol.replace("USDT", "");
                            prices[item.symbol] = {
                                price: parseFloat(item.price),
                                base: base
                            };
                        }
                    });

                    updateUI(prices);
                } catch (error) {
                    console.error("Error fetching prices:", error);
                }
            }

            function updateUI(prices) {
                let items = container.children;
                let existingSymbols = new Set();

                for (let item of items) {
                    let symbol = item.getAttribute("data-symbol");
                    if (prices[symbol] !== undefined) {
                        item.querySelector(".price").innerText = prices[symbol].price;
                        existingSymbols.add(symbol);
                    } else {
                        item.remove();
                    }
                }

                for (let symbol in prices) {
                    if (!existingSymbols.has(symbol)) {
                        let div = document.createElement("div");
                        div.classList.add("item");
                        div.setAttribute("data-symbol", symbol);

                        let baseSymbol = prices[symbol].base;
                        let logoUrl = logos[baseSymbol] || "https://via.placeholder.com/24";

                        div.innerHTML = `
                            <div class="symbol-container">
                                <img src="${logoUrl}" alt="${baseSymbol}" class="crypto-logo">
                                <span class="symbol">${baseSymbol} / USDT</span>
                            </div>
                            <span class="price">${prices[symbol].price}</span>
                        `;

                        container.appendChild(div);
                    }
                }
            }

            searchInput.addEventListener("input", function () {
                let input = this.value.toLowerCase();
                let items = container.children;
                for (let item of items) {
                    let symbol = item.querySelector(".symbol").innerText.toLowerCase();
                    item.style.display = symbol.includes(input) ? "flex" : "none";
                }
            });

            fetchLogos().then(() => {
                setInterval(fetchPrices, 2500);
                fetchPrices();
            });
        });
    </script>
</body>
</html>
